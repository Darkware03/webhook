{"openapi":"3.0.1","info":{"title":"Documentación de la API de la Plantilla","description":"Aquí se encuentra la información correspondiente a los endpoints de  interacción con la API para facilitar el consumo de esta. (Esto es una plantilla para  representar el correcto funcionamiento del Swagger y actualmente no contiene ningun endpoint de la API, deberán agregarse cuando ya se encuentren disponibles)."},"paths":{"/api/v1/login":{"post":{"tags":["auth"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Login"}}},"required":true},"responses":{"200":{"description":null,"content":{"application/json":{"schema":{"type":"object","properties":{"token":{"type":"string"},"metodos_autenticacion":{"type":"array","items":null}}}}}},"400":{"description":"Bad Request","content":{}},"401":{"description":"Acceso no Autorizado","content":{}},"404":{"description":"Not Found"},"405":{"description":"Not Allowed","content":{}},"500":{"description":"Internal Server Error","content":{}}},"x-codegen-request-body-name":"body"},"area":"api"},"/api/v1/refresh_token":{"post":{"tags":["auth"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Login"}}},"required":true},"responses":{"200":{"description":null,"content":{"application/json":{"schema":{"type":"object","properties":{"token":{"type":"string"},"refresh_token":{"type":"string"},"user":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"},"last_login":{"type":"string"}}}}}}}},"400":{"description":"Bad Request","content":{}},"401":{"description":"Acceso no Autorizado","content":{}},"404":{"description":"Not Found"},"405":{"description":"Not Allowed","content":{}},"500":{"description":"Internal Server Error","content":{}}},"x-codegen-request-body-name":"body"},"area":"api"},"/2fa/check":{"post":{"tags":["auth"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TwoFactorAuth"}}},"required":true},"responses":{"200":{"description":null,"content":{"application/json":{"schema":{"type":"object","properties":{"token":{"type":"string"},"refresh_token":{"type":"string"},"2fa":{"type":"boolean"},"user":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"},"last_login":{"type":"string"}}}}}}}},"400":{"description":"Bad Request","content":{}},"401":{"description":"Acceso no Autorizado","content":{}},"404":{"description":"Not Found"},"405":{"description":"Not Allowed","content":{}},"500":{"description":"Internal Server Error","content":{}}},"x-codegen-request-body-name":"body"},"area":"api"},"/api/v1/users":{"post":{"tags":["usuario"],"operationId":"addUser","requestBody":{"description":"Objeto Usuario que será agregado al servicio","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Usuario"}}},"required":true},"responses":{"201":{"description":"Usuario agregado","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer"},"email":{"type":"string"},"perfiles":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"}}},"roles":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"}}}}}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"403":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal Server Error","content":null}}},"x-codegen-request-body-name":"body","get":{"tags":["usuario"],"operationId":"users","produces":["application/json"],"responses":{"200":{"description":"Usuarios","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer"},"email":{"type":"string"},"last_login":{"type":"string"}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"403":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal Server Error","content":null}}},"area":"development"},"api/v1/users/{id}":{"parameters":[{"in":"path","name":"id","required":true,"type":"integer","minimum":1,"description":null}],"get":{"tags":["usuario"],"operationId":"viewUser","responses":{"200":{"description":"Un objeto usuario","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer"},"email":{"type":"string"},"perfiles":{"type":"object","properties":{}},"roles":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"}}}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"403":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal Server Error","content":null}}},"put":{"tags":["usuario"],"operationId":"editUser","parameters":[{"in":"path","name":"id","required":true,"type":"integer","minimum":1,"description":null}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Usuario"}}},"required":true},"responses":{"200":{"description":"Usuario actualizado","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer"},"email":{"type":"string"}}}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"403":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal Server Error","content":null}}},"x-codegen-request-body-name":"body","delete":{"tags":["usuario"],"operationId":"deleteUser","responses":{"200":{"description":"Usuario eliminado","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"403":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal Server Error","content":null}}},"area":"development"},"api/v1/users/{id}/perfiles":{"parameters":[{"in":"path","name":"id","required":true,"type":"integer","minimum":1,"description":null}],"post":{"tags":["usuario"],"operationId":"addUserProfile","requestBody":{"content":{"application/json":{"schema":{"type":"array","items":{"type":"integer"}}}},"required":true},"responses":{"200":{"description":"Un objeto perfil a usuario","content":{"application/json":{"schema":{"type":"object","properties":{"user":{"type":"object","properties":{"id":{"type":"integer"},"email":{"type":"string"},"last_login":{"type":"string"}}},"userProfils":{"type":"object","properties":{"id":{"type":"integer"},"id_usuario":{"type":"integer"},"id_perfil":{"type":"integer"}}}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"403":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal Server Error","content":null}}},"delete":{"tags":["usuario"],"operationId":"destroyUserPerfil","responses":{"200":{"description":"Perfiles de usuarios eliminados","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"403":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal Server Error","content":null}}},"area":"development"},"api/v1/users/{id}/roles":{"parameters":[{"in":"path","name":"id","required":true,"type":"integer","minimum":1,"description":null}],"post":{"tags":["usuario"],"operationId":"addUserRol","requestBody":{"content":{"application/json":{"schema":{"type":"array","items":{"type":"integer"}}}},"required":true},"responses":{"200":{"description":"Un objeto rol a usuario","content":{"application/json":{"schema":{"type":"object","properties":{"user":{"type":"object","properties":{"id":{"type":"integer"},"email":{"type":"string"},"last_login":{"type":"string"}}},"userProfils":{"type":"object","properties":{"id":{"type":"integer"},"id_usuario":{"type":"integer"},"id_perfil":{"type":"integer"}}}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"403":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal Server Error","content":null}}},"delete":{"tags":["usuario"],"operationId":"destroyUserRol","responses":{"200":{"description":"Roles de usuarios eliminados","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"403":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal Server Error","content":null}}},"area":"development"},"api/v1/update/password":{"post":{"tags":["usuario"],"summary":"Modifica la contraseña del usuario","requestBody":{"description":"Password a cambiar y la confirmacion de esta","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecoveryPassword"}}},"required":true},"responses":{"201":{"description":"Password modificada con exito","content":{"application/json":{"schema":{"type":"object","properties":null}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"403":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal Server Error","content":null}}},"x-codegen-request-body-name":"body","area":"development"},"api/v1/update/email":{"post":{"tags":["usuario"],"summary":"Modifica el email del usuario","requestBody":{"description":"email a cambiar y password para validar informacion","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateEmail"}}},"required":true},"responses":{"201":{"description":"Email actualizado con exito","content":{"application/json":{"schema":{"type":"object","properties":null}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"403":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal Server Error","content":null}}},"x-codegen-request-body-name":"body","area":"development"},"/api/v1/perfiles":{"post":{"tags":["perfil"],"operationId":"addPerfil","requestBody":{"description":"Objeto Perfil que será agregado al servicio","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Perfil"}}},"required":true},"responses":{"201":{"description":"Perfil agregado","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer"},"nombre":{"type":"string"},"codigo":{"type":"string"}}}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"403":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal Server Error","content":null}}},"x-codegen-request-body-name":"body","get":{"tags":["perfil"],"operationId":"perfiles","produces":["application/json"],"responses":{"200":{"description":"Perfiles","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer"},"nombre":{"type":"string"},"codigo":{"type":"string"}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"403":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal Server Error","content":null}}},"area":"development"},"api/v1/perfiles/{id}":{"parameters":[{"in":"path","name":"id","required":true,"type":"integer","minimum":1,"description":null}],"get":{"tags":["perfil"],"operationId":"viewRol","responses":{"200":{"description":"Un objeto perfil","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer"},"nombre":{"type":"string"},"codigo":{"type":"string"}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"403":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal Server Error","content":null}}},"put":{"tags":["perfil"],"operationId":"editPerfil","parameters":[{"in":"path","name":"id","required":true,"type":"integer","minimum":1,"description":null}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Perfil"}}},"required":true},"responses":{"201":{"description":"Perfil actualizado","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer"},"nombre":{"type":"string"},"codigo":{"type":"string"}}}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"403":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal Server Error","content":null}}},"x-codegen-request-body-name":"body","delete":{"tags":["perfil"],"operationId":"deletePerfil","responses":{"200":{"description":"Rol eliminado","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"403":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal Server Error","content":null}}},"area":"development"},"/api/v1/roles":{"post":{"tags":["rol"],"operationId":"addRol","requestBody":{"description":"Objeto Rol que será agregado al servicio","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Rol"}}},"required":true},"responses":{"201":{"description":"Rol agregado","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"}}}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"403":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal Server Error","content":null}}},"x-codegen-request-body-name":"body","get":{"tags":["rol"],"operationId":"roles","produces":["application/json"],"responses":{"200":{"description":"Roles","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"403":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal Server Error","content":null}}},"area":"development"},"api/v1/roles/{id}":{"parameters":[{"in":"path","name":"id","required":true,"type":"integer","minimum":1,"description":null}],"get":{"tags":["rol"],"operationId":"viewRol","responses":{"200":{"description":"Un objeto rol","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer"},"email":{"type":"name"}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"403":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal Server Error","content":null}}},"put":{"tags":["rol"],"operationId":"editRol","parameters":[{"in":"path","name":"id","required":true,"type":"integer","minimum":1,"description":null}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Rol"}}},"required":true},"responses":{"200":{"description":"Rol actualizado","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer"}}}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"403":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal Server Error","content":null}}},"x-codegen-request-body-name":"body","delete":{"tags":["rol"],"operationId":"deleteRol","responses":{"200":{"description":"Rol eliminado","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"403":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal Server Error","content":null}}},"area":"development"}},"components":{"schemas":{"Usuario":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"username":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"},"phone":{"type":"string"},"userStatus":{"type":"integer","description":"User Status","format":"int32"}}},"Login":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}}},"Perfil":{"type":"object","properties":{"id":{"type":"integer"},"nombre":{"type":"string"},"codigo":{"type":"string"}}},"Rol":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"}}},"Perfiles":null,"Roles":{"ArrayOfInt":{"type":"array","items":{"type":"integer"}}},"TwoFactorAuth":{"type":"object","properties":{"codigo":{"type":"string"},"id_metodo":{"type":"integer"}}},"RecoveryPassword":{"type":"object","properties":{"password_actual":{"type":"string"},"password":{"type":"string"},"confirm_password":{"type":"string"}}},"UpdateEmail":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}}},"Error":{"type":"object","properties":{"key":{"type":"string"},"message":{"type":"string"}}},"ArrayOfInt":{"type":"object","items":{"type":"integer"}}},"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}},"security":[{"bearerAuth":[]}]}
